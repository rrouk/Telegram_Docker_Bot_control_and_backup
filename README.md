# üê≥ Docker / Server Management Telegram Bot

**Docker / Server Management Bot** ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram-–±–æ—Ç, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏—é.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üíª –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker

* **–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏, –æ–±—Ä–∞–∑–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º —Ä–∞–±–æ—Ç—ã (uptime).
* **–î–µ–π—Å—Ç–≤–∏—è —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å (‚ñ∂Ô∏è), –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å (‚èπÔ∏è) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å (üîÑ) –ª—é–±–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏.
* **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 20 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Docker Socket (`/var/run/docker.sock`) –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

### üîí –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –ë—ç–∫–∞–ø

* **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ `AsyncIOScheduler` –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç –∏ —à–∏—Ñ—Ä—É–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é –ø–∞–ø–∫—É (`self.folder_to_archive`) –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, –∑–∞–¥–∞–Ω–Ω–æ–º—É —á–µ—Ä–µ–∑ `CronTrigger`.
* **–†—É—á–Ω–æ–π –±—ç–∫–∞–ø**: –ö–Ω–æ–ø–∫–∞ **"üîí –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤"** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–∞ –±—ç–∫–∞–ø–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é.
* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è **AESGCM** (—á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –º–æ–¥—É–ª—å `cipher_logic.py`).
* **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —á–∞—Ç/—Ç—Ä–µ–¥ (ARCHIVE_CHAT_ID).

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **–Ø–∑—ã–∫** | Python 3.9+ | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | `docker` SDK for Python | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Docker Daemon. |
| **–§—Ä–µ–π–º–≤–æ—Ä–∫** | `python-telegram-bot` | –†–∞–±–æ—Ç–∞ —Å Telegram API. |
| **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** | `AsyncIOScheduler` | –ó–∞–ø—É—Å–∫ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. |
| **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** | `AESGCMCipher` (–º–æ–¥—É–ª—å) | –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –∞—Ä—Ö–∏–≤–æ–≤. |

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ **—Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω Docker Socket** (`/var/run/docker.sock`).

1.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
    * –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`.
    * –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `BOT_TOKEN` –∏ `ALLOWED_USERS`.
    * **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∑–∞–¥–∞–π—Ç–µ `ENCRYPTION_PASSWORD`.
    * –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É—Ç–∏: `FOLDER_TO_ARCHIVE` (—á—Ç–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å), `ARCHIVE_CHAT_ID` (–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –±—ç–∫–∞–ø).

2.  **–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**:
    ```bash
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ docker-compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    docker-compose up --build -d
    ```
